<!DOCTYPE html><html lang="en-us" >

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  
  

  

  
  
  
  
  
    
    
    
  
  

  <meta name="author" content="Hrishikesh Terdalkar" />

  
  
  
    
  
  <meta name="description" content="Devanagari text can be transliterated in several standard schemes. More often than not, a user has a preference of scheme to type the input in. Similarly, at times, one faces a need to render it in a different scheme in the PDF document. Here&#39;s a simple solution!" />

  
  <link rel="alternate" hreflang="en-us" href="/post/devanagari-transliteration-in-latex/" />

  









  




  
  
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  

  
  
  
    <meta name="theme-color" content="#707070" />
  

  
  

  
  
  
  
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous" media="print" onload="this.media='all'">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha256-FMvZuGapsJLjouA6k7Eo2lusoAX9i0ShlWFG6qt7SLc=" crossorigin="anonymous" media="print" onload="this.media='all'">

    
    
    
    
      
      
    
    
    

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/github.min.css" crossorigin="anonymous" title="hl-light" media="print" onload="this.media='all'">
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/styles/dracula.min.css" crossorigin="anonymous" title="hl-dark" media="print" onload="this.media='all'" disabled>
        
      
    

    
    
    

    

    
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
      
      

      
      
        
      

      
    
      
      

      
      

      
    
      
      

      
      

      
    
  

  
  
  
    
      
      <link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Cutive+Mono&family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap&display=swap">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Cutive+Mono&family=Lora:wght@400;700&family=Roboto:wght@400;700&display=swap&display=swap" media="print" onload="this.media='all'">
    
  

  
  
  
  
  
  <link rel="stylesheet" href="/css/wowchemy.1e782e5aafc1404d99f88d4e8dd72965.css" />

  




<script async src="https://www.googletagmanager.com/gtag/js?id=G-K8M884SMXP"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
      dataLayer.push(arguments);
  }

  function trackOutboundLink(url, target) {
    gtag('event', 'click', {
         'event_category': 'outbound',
         'event_label': url,
         'transport_type': 'beacon',
         'event_callback': function () {
           if (target !== '_blank') {
             document.location = url;
           }
         }
    });
    console.debug("Outbound link clicked: " + url);
  }

  function onClickCallback(event) {
    if ((event.target.tagName !== 'A') || (event.target.host === window.location.host)) {
      return;
    }
    trackOutboundLink(event.target, event.target.getAttribute('target'));  
  }

  gtag('js', new Date());
  gtag('config', 'G-K8M884SMXP', {});
  gtag('set', {'cookie_flags': 'SameSite=None;Secure'});

  
  document.addEventListener('click', onClickCallback, false);
</script>


  
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-MHCR4WL');
</script>


  

  




  
  
  

  

  
    <link rel="manifest" href="/manifest.webmanifest" />
  

  <link rel="icon" type="image/png" href="/media/icon_hube9c3e5f7a27217c9c8565129307f591_12218_32x32_fill_lanczos_center_3.png" />
  <link rel="apple-touch-icon" type="image/png" href="/media/icon_hube9c3e5f7a27217c9c8565129307f591_12218_180x180_fill_lanczos_center_3.png" />

  <link rel="canonical" href="/post/devanagari-transliteration-in-latex/" />

  
  
  
  
  
  
  
  
    
    
  
  
  <meta property="twitter:card" content="summary" />
  
    <meta property="twitter:site" content="@hrishikeshrt" />
    <meta property="twitter:creator" content="@hrishikeshrt" />
  
  <meta property="og:site_name" content="Hrishikesh Terdalkar" />
  <meta property="og:url" content="/post/devanagari-transliteration-in-latex/" />
  <meta property="og:title" content="Devanagari Transliteration in LaTeX | Hrishikesh Terdalkar" />
  <meta property="og:description" content="Devanagari text can be transliterated in several standard schemes. More often than not, a user has a preference of scheme to type the input in. Similarly, at times, one faces a need to render it in a different scheme in the PDF document. Here&#39;s a simple solution!" /><meta property="og:image" content="/media/icon_hube9c3e5f7a27217c9c8565129307f591_12218_512x512_fill_lanczos_center_3.png" />
    <meta property="twitter:image" content="/media/icon_hube9c3e5f7a27217c9c8565129307f591_12218_512x512_fill_lanczos_center_3.png" /><meta property="og:locale" content="en-us" />
  
    
      <meta
        property="article:published_time"
        content="2022-03-08T16:30:00&#43;05:30"
      />
    
    <meta property="article:modified_time" content="2022-03-08T16:30:00&#43;05:30">
  

  


    






  




<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "/post/devanagari-transliteration-in-latex/"
  },
  "headline": "Devanagari Transliteration in LaTeX",
  
  "datePublished": "2022-03-08T16:30:00+05:30",
  "dateModified": "2022-03-08T16:30:00+05:30",
  
  "author": {
    "@type": "Person",
    "name": "Hrishikesh Terdalkar"
  },
  
  "publisher": {
    "@type": "Organization",
    "name": "Hrishikesh Terdalkar",
    "logo": {
      "@type": "ImageObject",
      "url": "/media/icon_hube9c3e5f7a27217c9c8565129307f591_12218_192x192_fill_lanczos_center_3.png"
    }
  },
  "description": "Devanagari text can be transliterated in several standard schemes. More often than not, a user has a preference of scheme to type the input in. Similarly, at times, one faces a need to render it in a different scheme in the PDF document. Here's a simple solution!"
}
</script>

  

  

  

  


  <title>Devanagari Transliteration in LaTeX | Hrishikesh Terdalkar</title>
</head>


<body id="top" data-spy="scroll" data-offset="70" data-target="#TableOfContents" class="page-wrapper   " data-wc-page-id="5bc9c800d251713fc16de65cddd76ac4" >

  
  
  
  
  
  
  
  
  
  <script src="/js/wowchemy-init.min.7f3e7639f4c7f2a2cf83b68ea7de7f08.js"></script>

  


<aside class="search-modal" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#" aria-label="Close"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        <input name="q" id="search-query" placeholder="Search..." autocapitalize="off"
        autocomplete="off" autocorrect="off" spellcheck="false" type="search" class="form-control"
        aria-label="Search...">
        
      </div>

      
      

      

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>



  <div class="page-header">
    












<nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id="navbar-main">
  <div class="container-xl">

    
    <div class="d-none d-lg-inline-flex">
      <a class="navbar-brand" href="/">Hrishikesh Terdalkar</a>
    </div>
    

    
    <button type="button" class="navbar-toggler" data-toggle="collapse"
            data-target="#navbar-content" aria-controls="navbar-content" aria-expanded="false" aria-label="Toggle navigation">
    <span><i class="fas fa-bars"></i></span>
    </button>
    

    
    <div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none">
      <a class="navbar-brand" href="/">Hrishikesh Terdalkar</a>
    </div>
    

    
    
    <div class="navbar-collapse main-menu-item collapse justify-content-end" id="navbar-content">

      
      <ul class="navbar-nav d-md-inline-flex">
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#about"><span>Home</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#posts"><span>Posts</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#projects"><span>Projects</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#featured"><span>Publications</span></a>
        </li>

        
        

        

        
        
        
          
        

        

        
        
        
        

        
          
            
            
          
          
            
            
            
              
            
            
          
        

        <li class="nav-item">
          <a class="nav-link " href="/#contact"><span>Contact</span></a>
        </li>

        
        

      

        
      </ul>
    </div>

    <ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2">

      
      
        
      

      
      
      <li class="nav-item">
        <a class="nav-link js-search" href="#" aria-label="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
      </li>
      

      
      

      
      

    </ul>

  </div>
</nav>


  </div>

  <div class="page-body">
    <article class="article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1>Devanagari Transliteration in LaTeX</h1>

  
  <p class="page-subtitle">Write in Devanagari to render as IAST, Harvard-Kyoto, Velthuis, SLP1, WX etc.</p>
  

  
    


<div class="article-metadata">

  
  
  
  
  <div>
    

  <span class="author-highlighted">
      Hrishikesh Terdalkar</span>
  </div>
  
  

  
  <span class="article-date">
    
    
      
    
    Mar 8, 2022
  </span>
  

  

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    8 min read
  </span>
  

  
  
  
  
  
  

  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder mr-1"></i><a href="/category/demo/">demo</a></span>
  

</div>

    




<div class="btn-links mb-3">
  
  








  


















  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://github.com/hrishikeshrt/devanagari-transliteration-latex" target="_blank" rel="noopener">
    
    Code
  </a>

  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://twitter.com/hrishikeshrt" target="_blank" rel="noopener">
    <i class="fab fa-twitter mr-1"></i>
    Follow
  </a>

  
  
  
    
  
  
  
  
  
    
  
  <a class="btn btn-outline-primary btn-page-header" href="https://github.com/hrishikeshrt" target="_blank" rel="noopener">
    <i class="fab fa-github mr-1"></i>
    Follow
  </a>


</div>


  
</div>



  <div class="article-container">

    <div class="article-style">
      <p><a href="https://en.wikipedia.org/wiki/Devanagari" target="_blank" rel="noopener">Devanagari</a> is the fourth most widely adopted writing system in the world, primarily used in the Indian subcontinent. The script is being used for more than 120 languages, some of the more notable languages being, Sanskrit, Hindi, Marathi, Pali, Nepali and several variations of these languages.</p>
<p>Devanagari text can be transliterated in various <a href="https://en.wikipedia.org/wiki/Devanagari_transliteration" target="_blank" rel="noopener">standard schemes</a>. There exist several input systems based on these transliteration schemes to enable users easily input the text. More often than not, a user has a preference of scheme to type the input in. Similarly, at times, one faces a need to render it in a different scheme in the PDF document.</p>
<p>In my case, I prefer using <a href="https://launchpad.net/ubuntu/&#43;source/ibus-m17n" target="_blank" rel="noopener"><code>ibus-m17n</code></a> to type text in Devanagari. While writing articles that contain Devanagari text, I also faced the need to render the text as IAST in the final PDF.
One could always learn to input text in another input scheme, but that may get tedious. Similarly, transliterating each word using online systems such as <a href="https://aksharamukha.appspot.com/converter" target="_blank" rel="noopener">Aksharamukha</a> can also be a tedious task. So, I was looking for a way where I can type in Devanagari, and have it rendered in IAST after PDF compilation. As a solution, I came up with a system consisting of a small set of LaTeX commands to add custom syntax to LaTeX and a python transliteration script (based on <a href="http://pypi.org/indic-transliteration" target="_blank" rel="noopener"><code>indic-transliteration</code></a> package) to serve as a middle-layer and process the LaTeX file to create a new LaTeX file with proper transliteration.</p>
<h2 id="latex-compilation-system-with-transliteration-support">LaTeX Compilation System with Transliteration Support</h2>
<p>There are two primary components to the system,</p>
<ol>
<li>LaTeX Synatx</li>
<li>Transliteration Script</li>
</ol>
<h3 id="latex-syntax">LaTeX Syntax</h3>
<p>XeTeX (<code>xelatex</code>) and LuaTeX (<code>lualatex</code>) have good unicode support and can be used to write Devanagari text. In the current example, I mention the setup with XeTeX.</p>
<p>We first add the required packages in the preamble of the LaTeX (<code>.tex</code>) file.</p>
<pre><code class="language-latex">% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% Devanagari Related Packages
\usepackage{fontspec, xunicode, xltxtra}
</code></pre>
<p>Using <code>fontspec</code>, we can define environments for font families, to write text in specific scripts. To write Devanagari text, one needs to have a Devanagari font available. (It is assumed here that one may need to write both in Devanagari as well as other transliteration schemes.)</p>
<p>For more on Devanagari fonts, you may check the <a href="#devanagari-fonts">fonts section</a> of this document. In this section, it is assumed that <code>Sanskrit 2003</code> font is installed in the system.</p>
<p>To define the environments as mentioned earlier, we add the following lines in the preamble.</p>
<pre><code class="language-latex">% Define Fonts
\newfontfamily\textskt[Script=Devanagari]{Sanskrit 2003}
\newfontfamily\textiast{Noto Serif}

% Commands for Devanagari Transliterations
\newcommand{\skt}[1]{{\textskt{#1}}}
\newcommand{\iast}[1]{{\textiast{#1}}}
\newcommand{\Iast}[1]{{\textiast{#1}}}
\newcommand{\IAST}[1]{{\textiast{#1}}}
</code></pre>
<p>This provides us with four commands. <code>\skt{}</code> can be used to render Devanagari text. <code>\iast{}</code>, <code>\Iast{}</code> and <code>\IAST{}</code> can be used to render devanagari text in IAST format in lower case, title case and upper case respectively. It should be noted that from the perspective of LaTeX engine, the commands <code>\iast{}</code>, <code>\Iast{}</code> and <code>\IAST{}</code> are identical. They are just different syntactically to aid the python script to perform transliteration and apply appropriate modifications.
It should further be noted that we can define new font families and new commands for any of the valid schemes as per the requirement, which can potentially give us additional commands such <code>\velthuis{}</code>, <code>\hk{}</code> and so on.</p>
<h3 id="minimal-example">Minimal Example</h3>
<p>Equipped with these commands, and some Devanagari text, we have a minimal example as follows, stored in the file <code>minimal.tex</code>,</p>
<pre><code class="language-latex">\documentclass[10pt]{article}

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% Devanagari Related Packages
\usepackage{fontspec, xunicode, xltxtra}

% Define Fonts
\newfontfamily\textskt[Script=Devanagari]{Sanskrit 2003}
\newfontfamily\textiast{Noto Serif}

% Commands for Devanagari Transliterations
\newcommand{\skt}[1]{{\textskt{#1}}}
\newcommand{\iast}[1]{{\textiast{#1}}}
\newcommand{\Iast}[1]{{\textiast{#1}}}
\newcommand{\IAST}[1]{{\textiast{#1}}}

\title{Transliteration of Devanagari Text}
\author{Hrishikesh Terdalkar}

\begin{document}

\maketitle

\skt{को न्वस्मिन् साम्प्रतं लोके गुणवान् कश्च वीर्यवान्।}

\iast{को न्वस्मिन् साम्प्रतं लोके गुणवान् कश्च वीर्यवान्।}

\Iast{को न्वस्मिन् साम्प्रतं लोके गुणवान् कश्च वीर्यवान्।}

\IAST{को न्वस्मिन् साम्प्रतं लोके गुणवान् कश्च वीर्यवान्।}

\end{document}
</code></pre>
<h3 id="transliteration-script">Transliteration Script</h3>
<p>The python script is used to perform transliteration and some clean-up on the LaTeX.</p>
<pre><code class="language-console">python3 finalize.py minimal.tex final.tex
</code></pre>
<p>This result in the content being transformed in the following way,</p>
<pre><code class="language-latex">% ...

\skt{को न्वस्मिन् साम्प्रतं लोके गुणवान् कश्च वीर्यवान्।}

\iast{ko nvasmin sāmprataṃ loke guṇavān kaśca vīryavān|}

\Iast{Ko Nvasmin Sāmprataṃ Loke Guṇavān Kaśca Vīryavān|}

\IAST{KO NVASMIN SĀMPRATAṂ LOKE GUṆAVĀN KAŚCA VĪRYAVĀN|}

% ...
</code></pre>
<p>We can now proceed to compile the <code>final.tex</code> file.</p>
<pre><code class="language-console">xelatex final
</code></pre>
<p>This results in the following output, 















<figure  >
  <div class="d-flex justify-content-center">
    <div class="w-100" ><img src="https://raw.githubusercontent.com/hrishikeshrt/devanagari-transliteration-latex/master/minimal.png" alt="PDF" loading="lazy" data-zoomable /></div>
  </div></figure>
</p>
<h3 id="anatomy-of-the-transliteration-script">Anatomy of the Transliteration Script</h3>
<p>At the core of the transliteration script, there is a function <code>transliterate_between</code>.</p>
<pre><code class="language-python">def transliterate_between(
    text: str,
    from_scheme: str,
    to_scheme: str,
    start_pattern: str,
    end_pattern: str,
    post_hook: Callable[[str], str] = lambda x: x,
) -&gt; str:
    &quot;&quot;&quot;Transliterate the text appearing between two patterns

    Only the text appearing between patterns `start_pattern` and `end_pattern`
    it transliterated.
    `start_pattern` and `end_pattern` can appear multiple times in the full
    text, and for every occurrence, the text between them is transliterated.

    `from_scheme` and `to_scheme` should be compatible with scheme names from
    `indic-transliteration`

    Parameters
    ----------
    text : str
        Full text
    from_scheme : str
        Input transliteration scheme
    to_scheme : str
        Output transliteration scheme
    start_pattern : regexp
        Pattern describing the start tag
    end_pattern : regexp
        Pattern describing the end tag
    post_hook : Callable[[str], str], optional
        Function to be applied on the text within tags after transliteration
        The default is `lambda x: x`.

    Returns
    -------
    str
        Text after replacements
    &quot;&quot;&quot;

    if from_scheme == to_scheme:
        return text

    def transliterate_match(matchobj):
        target = matchobj.group(1)
        replacement = transliterate(target, from_scheme, to_scheme)
        replacement = post_hook(replacement)
        return f&quot;{start_pattern}{replacement}{end_pattern}&quot;

    pattern = &quot;%s(.*?)%s&quot; % (re.escape(start_pattern), re.escape(end_pattern))
    return re.sub(pattern, transliterate_match, text, flags=re.DOTALL)
</code></pre>
<p>We can provide the start and end patterns as <code>\iast{</code> and <code>}</code> respsectively, to transliterate the text enclosed in these tags.</p>
<p>Using this function, we can write a generic function to work with any transliteration scheme.</p>
<pre><code class="language-python">def latex_transliteration(
    input_text: str,
    from_scheme: str,
    to_scheme: str
) -&gt; str:
    &quot;&quot;&quot;Transliaterate parts of the LaTeX input enclosed in scheme tags

    A scheme tag is of the form `\\to_scheme_lowercase{}` and is used
    when the desired output is in `to_scheme`.

    i.e.,
    - Tags for IAST scheme are enclosed in \\iast{} tags
    - Tags for VH scheme are enclosed in \\vh{} tags
    - ...

    Parameters
    ----------
    input_text : str
        Input text
    from_scheme : str
        Transliteration scheme of the text written within the input tags
    to_scheme : str
        Transliteration scheme to which the text within tags should be
        transliterated

    Returns
    -------
    str
        Text after replacement of text within the scheme tags
    &quot;&quot;&quot;
    start_tag_pattern = f&quot;\\{to_scheme.lower()}&quot;
    end_tag_pattern = &quot;}&quot;
    return transliterate_between(
        input_text,
        from_scheme=from_scheme,
        to_scheme=to_scheme,
        start_pattern=start_tag_pattern,
        end_pattern=end_tag_pattern
    )
</code></pre>
<p><strong>Note</strong>: The names of schemes (and therefore the corresponding LaTeX commands) have to conform to the names of schemes used
by the <code>indic-transliteration</code> package.</p>
<p>IAST is a case-insensitive transliteration scheme, and as such, we might be interested in specific capitalization of certain words (e.g. proper nouns). We can use the <code>post_hook</code> argument to provide this function. Using that, we can create a function to handle the three variants of IAST mentioned previously, namely, <code>\iast{}</code> (lower), <code>\Iast{}</code> (title) and <code>\IAST{}</code> (upper).</p>
<pre><code class="language-python">def devanagari_to_iast(input_text: str) -&gt; str:
    &quot;&quot;&quot;Transliaterate parts of the input enclosed in
    \\iast{}, \\Iast{} or \\IAST{} tags from Devanagari to IAST

    Text in \\Iast{} tags also undergoes a `.title()` post-hook.
    Text in \\IAST{} tags also undergoes a `.upper()` post-hook.

    Parameters
    ----------
    input_text : str
        Input text

    Returns
    -------
    str
        Text after replacement of text within the IAST tags
    &quot;&quot;&quot;
    intermediate_text = transliterate_between(
        input_text,
        from_scheme=sanscript.DEVANAGARI,
        to_scheme=sanscript.IAST,
        start_pattern=&quot;\\iast{&quot;,
        end_pattern=&quot;}&quot;
    )
    intermediate_text = transliterate_between(
        intermediate_text,
        from_scheme=sanscript.DEVANAGARI,
        to_scheme=sanscript.IAST,
        start_pattern=&quot;\\Iast{&quot;,
        end_pattern=&quot;}&quot;,
        post_hook=lambda x: x.title()
    )
    final_text = transliterate_between(
        intermediate_text,
        from_scheme=sanscript.DEVANAGARI,
        to_scheme=sanscript.IAST,
        start_pattern=&quot;\\IAST{&quot;,
        end_pattern=&quot;}&quot;,
        post_hook=lambda x: x.upper()
    )

    return final_text
</code></pre>
<p>Finally, there are other utility functions to remove comments and clean excessive whitespaces.</p>
<h3 id="extras">Extras</h3>
<p>Additionally, we may want some more structure to our setup, such as,</p>
<ul>
<li>Separation of ontent into multiple files</li>
</ul>
<pre><code class="language-latex">\input{sections/section_devanagari.tex}
\input{sections/section_iast_lower.tex}
\input{sections/section_iast_title.tex}
\input{sections/section_iast_upper.tex}
</code></pre>
<ul>
<li>Bibliography</li>
</ul>
<pre><code class="language-latex">\bibliographystyle{acm}
\bibliography{papers}
</code></pre>
<h4 id="final-latex-preparation">Final LaTeX Preparation</h4>
<p>We may have used the scheme tags across multiple sections. One option is to apply the transliteration script on every section file, to create a new set of section files and use those to compile the final LaTeX file.</p>
<p>A simpler solution is available in the form of <code>latexpand</code> which resolves the <code>\input{}</code> commands to actually include the content and create a single consolidated LaTeX file.</p>
<pre><code class="language-console">latexpand main.tex &gt; single.tex
</code></pre>
<p>Now, we can run the python script on this file to resolve the transliteration tags.</p>
<pre><code class="language-console">python3 finalize.py main.tex final.tex
</code></pre>
<h4 id="compilation">Compilation</h4>
<p>When working with BibTeX, we often need to multiple times to get the correct rendering of references in the PDF. Usually, this requires</p>
<pre><code class="language-console">xelatex final
bibtex final
xelatex final
xelatex final
</code></pre>
<p>Alternatively, we can use <code>latexmk</code> which takes care of the tedious compilation routines and reduces our job to a single command,</p>
<pre><code class="language-console">latexmk -pdflatex='xelatex %O %S' -pdf -ps- -dvi- final.tex
</code></pre>
<p>Another benefit of using <code>latexmk</code> is, we can clean the numerous files generated by LaTeX engine using a one-liner as well,</p>
<pre><code class="language-console">latexmk -c
</code></pre>
<h4 id="makefile">Makefile</h4>
<p>Finally, we can place all of the console commands together in a <code>Makefile</code>.</p>
<pre><code class="language-make">all: .all

.all: main.tex sections/*.tex papers.bib
	latexpand main.tex &gt; single.tex
	python3 finalize.py single.tex final.tex

	latexmk -pdflatex='xelatex %O %S' -pdf -ps- -dvi- final.tex

clear:
	latexmk -C
	rm single.tex
	rm final.tex

clean:
	latexmk -c
</code></pre>
<p>Thus, now we can focus on writing content in the <code>.tex</code> files and once we are done, simply use the command,</p>
<pre><code class="language-console">make
</code></pre>
<h3 id="requirements">Requirements</h3>
<p>We have made use of a number of external tools, and it is required to have these setup prior to the described solution.</p>
<h4 id="minimal-requirements">Minimal Requirements</h4>
<p>The <a href="#minimal-example">minimal example</a> mentioned earlier requires only three things,</p>
<ul>
<li>XeLaTeX (unicode support) (included in <a href="https://www.tug.org/texlive/" target="_blank" rel="noopener">TeX Live</a>)</li>
<li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener">Python3</a></li>
<li><a href="https://pypi.org/project/indic-transliteration/" target="_blank" rel="noopener"><code>indic-transliteration</code></a></li>
</ul>
<h4 id="extra-requirements">Extra Requirements</h4>
<p>The <a href="#extras">extras</a> have some more dependencies.</p>
<ul>
<li><a href="http://www.bibtex.org/" target="_blank" rel="noopener">BibTeX</a> (optional) (bibliography support)</li>
<li><a href="https://ctan.org/pkg/latexpand?lang=en" target="_blank" rel="noopener"><code>latexpand</code></a> (optional) (resolve <code>\input{}</code>)</li>
<li><a href="https://mg.readthedocs.io/latexmk.html" target="_blank" rel="noopener"><code>latexmk</code></a> (optional) (simpler TeX compilation)</li>
</ul>
<h2 id="devanagari-fonts">Devanagari Fonts</h2>
<p>Nowadays, there are several good Devanagari fonts available. Google Fonts also provides a <a href="https://fonts.google.com/?subset=devanagari" target="_blank" rel="noopener">wide variety of Devanagari fonts</a>.</p>
<p>Two of my personal favourites are,</p>
<ul>
<li><a href="https://omkarananda-ashram.org/Sanskrit/itranslator2003.htm#dls" target="_blank" rel="noopener">Sanskrit 2003</a></li>
<li><a href="https://fonts.google.com/noto/specimen/Noto&#43;Serif&#43;Devanagari" target="_blank" rel="noopener">Noto Serif Devanagari</a></li>
</ul>
<h2 id="code">Code</h2>
<p>The source code for the entire setup is available at <a href="https://github.com/hrishikeshrt/devanagari-transliteration-latex" target="_blank" rel="noopener">hrishikeshrt/devanagari-transliteration-latex</a>.</p>

    </div>

    






<div class="article-tags">
  
  <a class="badge badge-light" href="/tag/transliteration/">transliteration</a>
  
  <a class="badge badge-light" href="/tag/devanagari/">devanagari</a>
  
  <a class="badge badge-light" href="/tag/latex/">latex</a>
  
</div>



<div class="share-box" aria-hidden="true">
  <ul class="share">
    
      
      
      
        
      
      
      
      <li>
        <a href="https://twitter.com/intent/tweet?url=/post/devanagari-transliteration-in-latex/&amp;text=Devanagari%20Transliteration%20in%20LaTeX" target="_blank" rel="noopener" class="share-btn-twitter">
          <i class="fab fa-twitter"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.facebook.com/sharer.php?u=/post/devanagari-transliteration-in-latex/&amp;t=Devanagari%20Transliteration%20in%20LaTeX" target="_blank" rel="noopener" class="share-btn-facebook">
          <i class="fab fa-facebook"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="mailto:?subject=Devanagari%20Transliteration%20in%20LaTeX&amp;body=/post/devanagari-transliteration-in-latex/" target="_blank" rel="noopener" class="share-btn-email">
          <i class="fas fa-envelope"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://www.linkedin.com/shareArticle?url=/post/devanagari-transliteration-in-latex/&amp;title=Devanagari%20Transliteration%20in%20LaTeX" target="_blank" rel="noopener" class="share-btn-linkedin">
          <i class="fab fa-linkedin-in"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="whatsapp://send?text=Devanagari%20Transliteration%20in%20LaTeX%20/post/devanagari-transliteration-in-latex/" target="_blank" rel="noopener" class="share-btn-whatsapp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </li>
    
      
      
      
        
      
      
      
      <li>
        <a href="https://service.weibo.com/share/share.php?url=/post/devanagari-transliteration-in-latex/&amp;title=Devanagari%20Transliteration%20in%20LaTeX" target="_blank" rel="noopener" class="share-btn-weibo">
          <i class="fab fa-weibo"></i>
        </a>
      </li>
    
  </ul>
</div>











  
  
    



  
  
  
    
  
  
  
  <div class="media author-card content-widget-hr">
    
      <img class="avatar mr-3 avatar-circle" src="https://s.gravatar.com/avatar/1414f32481c6ddd8a102a8f9fae021ad?s=200" alt="Hrishikesh Terdalkar">
    

    <div class="media-body">
      <h5 class="card-title">Hrishikesh Terdalkar</h5>
      <h6 class="card-subtitle">Research Scholar</h6>
      <p class="card-text">My research interests include Natural Language Processing, Computational Linguistics, Information Retrieval, Data Mining and Artificial Intelligence. I am particularly interested in the Sanskrit language and several other Indian languages. I like building user-friendly GUIs and CLIs for academic and non-academic purposes.</p>
      <ul class="network-icon" aria-hidden="true">
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://scholar.google.com/citations?user=k9aGwEgAAAAJ&amp;hl=en" target="_blank" rel="noopener">
        <i class="ai ai-google-scholar"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://dblp.org/pid/296/3811.html" target="_blank" rel="noopener">
        <i class="ai ai-dblp"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://orcid.org/0000-0001-8343-424X" target="_blank" rel="noopener">
        <i class="ai ai-orcid"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://academic.microsoft.com/author/3088183891" target="_blank" rel="noopener">
        <i class="fab fa-windows"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://www.semanticscholar.org/author/Hrishikesh-Terdalkar/1738654202" target="_blank" rel="noopener">
        <i class="ai ai-semantic-scholar"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://www.researchgate.net/profile/Hrishikesh-Terdalkar" target="_blank" rel="noopener">
        <i class="ai ai-researchgate"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://iitk.academia.edu/hrishikeshrt" target="_blank" rel="noopener">
        <i class="ai ai-academia"></i>
      </a>
    </li>
  
    
    
    
    
    
    
    
      
    
    <li>
      <a href="https://arxiv.org/a/terdalkar_h_1.html" target="_blank" rel="noopener">
        <i class="ai ai-arxiv"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://github.com/hrishikeshrt" target="_blank" rel="noopener">
        <i class="fab fa-github"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://www.linkedin.com/in/hrishikeshrt/" target="_blank" rel="noopener">
        <i class="fab fa-linkedin"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="https://twitter.com/hrishikeshrt" target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
  
    
    
    
      
    
    
    
    
    
      
    
    <li>
      <a href="/#contact" >
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  
</ul>

    </div>
  </div>


  














  
  





  </div>
</article>
  </div>

  <div class="page-footer">
    
    
    <div class="container">
      <footer class="site-footer">

  



  

  

  
  <p class="powered-by">
    © 2023, Hrishikesh Terdalkar.
  </p>
  

  
  






  <p class="powered-by">
    
    
    
  </p>
</footer>

    </div>
    
  </div>

  
<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

      

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/instant.page/5.1.0/instantpage.min.js" integrity="sha512-1+qUtKoh9XZW7j+6LhRMAyOrgSQKenQ4mluTR+cvxXjP1Z54RxZuzstR/H9kgPXQsVB8IW7DMDFUJpzLjvhGSQ==" crossorigin="anonymous"></script>

      
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js" integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js" integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin="anonymous"></script>
      

      
      

      

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/highlight.min.js" integrity="sha512-TDKKr+IvoqZnPzc3l35hdjpHD0m+b2EC2SrLEgKDRWpxf2rFCxemkgvJ5kfU48ip+Y+m2XVKyOCD85ybtlZDmw==" crossorigin="anonymous"></script>
        
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/r.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/latex.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/make.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/console.min.js" crossorigin="anonymous"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.0/languages/bash.min.js" crossorigin="anonymous"></script>
        
      

    

    
    
    

    
    

    
    
    
      
      <script id="search-hit-fuse-template" type="text/x-template">
        <div class="search-hit" id="summary-{{key}}">
          <div class="search-hit-content">
            <div class="search-hit-name">
              <a href="{{relpermalink}}">{{title}}</a>
              <div class="article-metadata search-hit-type">{{type}}</div>
              <p class="search-hit-description">{{snippet}}</p>
            </div>
          </div>
        </div>
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js" integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>
      
    

    
    

    
    
    
    

    
    <script src="/js/bootstrap.bundle.min.6aed84840afc03ab4d5750157f69c120.js"></script>

    
    
      
      
      
      
      
      
      
    

    
    
    
    
    
    
    
    
      
      
    
    
    <script src="/en/js/wowchemy.min.d68ecd57c0ec1f1f61d65fd568f1c3a0.js"></script>

    


</body>
</html>
